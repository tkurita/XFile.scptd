<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">  <!-- InstanceBegin template="../../../../../_Templates/helpbook-page-with-applescript.dwt" -->    <head>      <meta http-equiv="content-type" content="text/html;charset=utf-8" />      <title>Synopsis</title>      <meta name="keywords" content="XFile, AppleScript" />            <meta name="description" content="XFile はオブジェクト指向のファイル参照とファイル操作を提供します。" />      <!-- #BeginHeadLocked "" -->        <link href="assets/helpbook-default.css" type="text/css" rel="stylesheet" media="all" />        <link href="assets/helpbook-navibar.css" type="text/css" rel="stylesheet" media="all" />      <link href="assets/AppleScript.css" rel="stylesheet" type="text/css" media="all" />        <script type="text/javascript" src="assets/navibar-jump.js"></script>        <link id="helpviewer-handler-helper" href="assets/helpviewer-handler-helper.scpt" />        <script type="text/javascript" src="assets/helpviewer-handler-enable.js"></script>      <!-- #EndHeadLocked -->    </head>    <body>      <!-- InstanceBeginEditable name="navi-bar" --><div id="navi-bar"><span class="navibar-item"><a href="../index.html">XFile Help</a></span><span class="navibar-item">Synopsis</span><select onchange="navibarJump(this)"><option value="">§</option>
    <option value="#what">What ?</option>
    <option value="#sample">Sample</option></select></div>
<div class="prev-next-item"><a href="../02_reference/index.html"><span class="navibar-next">XFile Reference</span></a></div><!-- InstanceEndEditable -->      <div id="contents">        <!-- InstanceBeginEditable name="Body" -->          <h1>XFile</h1>          <h2><a id="what" name="what"></a>What ?</h2>                    <p>XFile はファイル操作（移動/削除、属性の取得などなど）に統一的なオブジェクト指向インターフェースを与えるAppleScript モジュールです。</p>          <p>AppleScript でのファイル操作はスクリプティング機能追加、Finder、System Evetns、シェルコマンドを用います。。機能が分散していて非常に煩雑です。XFile はこれらを統合して、ファイル操作および情報の取得を統一的なオブジェクト指向インターフェースで扱えるファイルオブジェクトを導入します。</p>                    <h2><a id="sample" name="sample"></a>Sample</h2>          <csobj csref="../../../_Components/sample-code.html" occur="5" t="Component">            <div class="sourceCode">              <div>                <span class="langKeyword">property</span> <span class="userDefine">XFile</span><span class="normal"> : </span><span class="additionCommandName">module</span></div>              <br />              <div>                <span class="additionCommandName">boot</span><span class="normal"> (</span><span class="additionCommandName">module loader</span><span class="normal">) </span><span class="additionCommandName">for</span> <span class="langKeyword">me</span></div>              <br />              <div>                <span class="comment">(*== Make a New Instance *)</span></div>              <div>                <span class="langKeyword">set</span> <span class="userDefine">a_xfile</span> <span class="langKeyword">to</span> <span class="userDefine">XFile</span><span class="normal">'s </span><span class="userDefine">make_with</span><span class="normal">(&quot;/Users&quot;)</span></div>              <div>                <span class="langKeyword">set</span> <span class="userDefine">home_folder</span> <span class="langKeyword">to</span> <span class="userDefine">XFile</span><span class="normal">'s </span><span class="userDefine">make_with</span><span class="normal">(</span><span class="additionCommandName">path to</span> <span class="additionEnumeratedValue">home folder</span><span class="normal">)</span></div>              <br />              <div>                <span class="comment">(*== Obtain File Infomation *)</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">a_xfile</span><span class="normal">'s </span><span class="userDefine">is_folder</span><span class="normal">() </span><span class="comment">-- true</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">a_xfile</span><span class="normal">'s </span><span class="userDefine">is_package</span><span class="normal">() </span><span class="comment">-- false</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">a_xfile</span><span class="normal">'s </span><span class="userDefine">item_name</span><span class="normal">() </span><span class="comment">-- &quot;Users&quot;</span></div>              <br />              <div>                <span class="comment">(*== Obtain Parent and Child *)</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">parent_folder</span><span class="normal">()'s </span><span class="userDefine">posix_path</span><span class="normal">()</span></div>              <div>                <span class="comment">-- &quot;/Users&quot;</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">child</span><span class="normal">(&quot;Documents&quot;)'s </span><span class="userDefine">posix_path</span><span class="normal">()</span></div>              <div>                <span class="comment">-- &quot;/Users/tkurita/Documents&quot;</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">child</span><span class="normal">(&quot;Library/Scripts&quot;)'s </span><span class="userDefine">posix_path</span><span class="normal">()</span></div>              <div>                <span class="comment">-- &quot;/Users/tkurita/Library/Scripts&quot;</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">unique_child</span><span class="normal">(&quot;Documents&quot;)'s </span><span class="userDefine">posix_path</span><span class="normal">()</span></div>              <div>                <span class="comment">--&quot;/Users/tkurita/Documents 2&quot;</span></div>              <br />              <div>                <span class="comment">(*== Read and Write *)</span></div>              <div>                <span class="langKeyword">set</span> <span class="userDefine">test_file</span> <span class="langKeyword">to</span> <span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">child</span><span class="normal">(&quot;testfile&quot;)</span></div>              <div>                <span class="userDefine">test_file</span><span class="normal">'s </span><span class="userDefine">write_as_utf8</span><span class="normal">(&quot;new data&quot;)</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">test_file</span><span class="normal">'s </span><span class="userDefine">read_as_utf8</span><span class="normal">() </span><span class="comment">-- &quot;new data&quot;</span></div>              <br />              <div>                <span class="comment">(*== File Manipulations *)</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">test_file</span><span class="normal">'s </span><span class="userDefine">item_exists</span><span class="normal">() </span><span class="comment">--true</span></div>              <br />              <div>                <span class="langKeyword">set</span> <span class="userDefine">test_file2</span> <span class="langKeyword">to</span> <span class="userDefine">test_file</span><span class="normal">'s </span><span class="userDefine">copy_to</span><span class="normal">(</span><span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">child</span><span class="normal">(&quot;testfile2&quot;))</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">test_file2</span><span class="normal">'s </span><span class="userDefine">posix_path</span><span class="normal">() </span><span class="comment">-- &quot;/Users/tkurita/testfile2&quot;</span></div>              <br />              <div>                <span class="userDefine">test_file2</span><span class="normal">'s </span><span class="userDefine">move_to</span><span class="normal">(</span><span class="userDefine">home_folder</span><span class="normal">'s </span><span class="userDefine">child</span><span class="normal">(&quot;Documents&quot;))</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">test_file2</span><span class="normal">'s </span><span class="userDefine">posix_path</span><span class="normal">() </span><span class="comment">-- &quot;/Users/tkurita/Documents/testfile2&quot;</span></div>              <br />              <div>                <span class="userDefine">test_file2</span><span class="normal">'s </span><span class="userDefine">into_trash</span><span class="normal">()</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">test_file2</span><span class="normal">'s </span><span class="userDefine">posix_path</span><span class="normal">() </span><span class="comment">-- &quot;/Users/tkurita/.Trash/testfile2&quot;</span></div>              <div>                <span class="userDefine">test_file</span><span class="normal">'s </span><span class="userDefine">into_trash</span><span class="normal">()</span></div>              <br />              <div>                <span class="comment">(*== Working with Shell Commands *)</span></div>              <div>                <span class="commandName">log</span> <span class="userDefine">test_file</span><span class="normal">'s </span><span class="userDefine">perform_shell</span><span class="normal">(&quot;cat %s&quot;) </span><span class="comment">-- &quot;new data&quot;</span></div>              <div class="scriptButton">                <input type="button" value="sample" onclick="document.location = this.src" src="applescript://com.apple.scripteditor?action=new&amp;script=property%20XFile%20:%20module%0D%0Dboot%20(module%20loader)%20for%20me%0D%0D(*==%20Make%20a%20New%20Instance%20*)%0Dset%20a_xfile%20to%20XFile%27s%20make_with(%22/Users%22)%0Dset%20home_folder%20to%20XFile%27s%20make_with(path%20to%20home%20folder)%0D%0D(*==%20Obtain%20File%20Infomation%20*)%0Dlog%20a_xfile%27s%20is_folder()%20--%20true%0Dlog%20a_xfile%27s%20is_package()%20--%20false%0Dlog%20a_xfile%27s%20item_name()%20--%20%22Users%22%0D%0D(*==%20Obtain%20Parent%20and%20Child%20*)%0Dlog%20home_folder%27s%20parent_folder()%27s%20posix_path()%0D--%20%22/Users%22%0Dlog%20home_folder%27s%20child(%22Documents%22)%27s%20posix_path()%0D--%20%22/Users/tkurita/Documents%22%0Dlog%20home_folder%27s%20child(%22Library/Scripts%22)%27s%20posix_path()%0D--%20%22/Users/tkurita/Library/Scripts%22%0Dlog%20home_folder%27s%20unique_child(%22Documents%22)%27s%20posix_path()%0D--%22/Users/tkurita/Documents%202%22%0D%0D(*==%20Read%20and%20Write%20*)%0Dset%20test_file%20to%20home_folder%27s%20child(%22testfile%22)%0Dtest_file%27s%20write_as_utf8(%22new%20data%22)%0Dlog%20test_file%27s%20read_as_utf8()%20--%20%22new%20data%22%0D%0D(*==%20File%20Manipulations%20*)%0Dlog%20test_file%27s%20item_exists()%20--true%0D%0Dset%20test_file2%20to%20test_file%27s%20copy_to(home_folder%27s%20child(%22testfile2%22))%0Dlog%20test_file2%27s%20posix_path()%20--%20%22/Users/tkurita/testfile2%22%0D%0Dtest_file2%27s%20move_to(home_folder%27s%20child(%22Documents%22))%0Dlog%20test_file2%27s%20posix_path()%20--%20%22/Users/tkurita/Documents/testfile2%22%0D%0Dtest_file2%27s%20into_trash()%0Dlog%20test_file2%27s%20posix_path()%20--%20%22/Users/tkurita/.Trash/testfile2%22%0Dtest_file%27s%20into_trash()%0D%0D(*==%20Working%20with%20Shell%20Commands%20*)%0Dlog%20test_file%27s%20perform_shell(%22cat%20%25s%22)%20--%20%22new%20data%22%0D" /></div>            </div>          </csobj>        <!-- InstanceEndEditable --></div>      <!-- InstanceBeginEditable name="prev-next-item" --><div class="prev-next-item"><a href="../02_reference/index.html"><span class="navibar-next">XFile Reference</span></a></div><!-- InstanceEndEditable -->      <div class="footer">        <p>This page was last built on <csobj format="MedDate" h="10" region="0" t="DateTime" w="68">Mon, Jun 4, 2012</csobj> ; <csobj format="LongTime" h="10" region="0" t="DateTime" w="45">7:56:05 PM</csobj> . Thanks for checking it out!</p>      </div>    </body>  <!-- InstanceEnd --></html>